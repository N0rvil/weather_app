{"version":3,"sources":["Content.js","index.js"],"names":["Content","props","className","city","alt","src","weatherIcon","temperature","weatherDescription","App","state","lat","lng","errorMessage","currentTime","currentDay","today","Date","day","getDay","time","getHours","getMinutes","this","setState","setInterval","window","navigator","geolocation","getCurrentPosition","position","coords","latitude","err","message","longitude","setTimeout","fetch","then","response","json","data","results","components","town","catch","console","log","strAccents","split","strAccentsOut","Array","strAccentsLen","length","accents","y","indexOf","substr","join","RemoveAccents","current","weather_descriptions","weather_icons","alert","React","Component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.6a1462da.chunk.js","sourcesContent":["import React from 'react';\r\nimport './content.css';\r\n\r\nconst Content = (props) => {\r\n    return (\r\n        <div className=\"content\">\r\n            <div className=\"content__city\">{props.city}</div>\r\n            <div className=\"content__img-box\"><img className=\"content__img\" alt=\"img\" src={props.weatherIcon} /></div>\r\n            <div className=\"content__info\">\r\n                <div className=\"content__temperature\">{props.temperature}</div>\r\n                <div className=\"content__line\"></div>\r\n                <div className=\"content__weather\">{props.weatherDescription}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Content;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './base.css';\r\nimport Content from './Content';\r\n\r\nclass App extends React.Component {\r\n    state = { lat: null, lng: null, errorMessage: '', city: '', temperature: '', weatherDescription: '', currentTime: null, currentDay: '', weatherIcon: ''};\r\n\r\n    constructor() {\r\n        super()\r\n        let today = new Date();\r\n        this.day = today.getDay();\r\n        this.time = today.getHours() + \":\" + today.getMinutes();\r\n        \r\n          \r\n    }\r\n\r\n    componentDidMount() { \r\n\r\n\r\n//SELECTING A DAY     \r\n    if (this.day === 0) {\r\n        this.setState({ currentDay: 'Sunday'});\r\n    };\r\n\r\n    if (this.day === 1) {\r\n        this.setState({ currentDay: 'Monday'});\r\n    };\r\n\r\n    if (this.day === 2) {\r\n        this.setState({ currentDay: 'Tuesday'});\r\n    };\r\n\r\n    if (this.day === 3) {\r\n        this.setState({ currentDay: 'Wednesday'});\r\n    };\r\n\r\n    if (this.day === 4) {\r\n        this.setState({ currentDay: 'Thursday'});\r\n    };\r\n\r\n    if (this.day === 5) {\r\n        this.setState({ currentDay: 'Friday'});\r\n    };\r\n\r\n    if (this.day === 6) {\r\n        this.setState({ currentDay: 'Saturday'});\r\n    };\r\n\r\n    setInterval(() => {\r\n        this.setState({ currentTime: this.time+' hod'});\r\n    }, 1);   \r\n\r\n\r\n\r\n//FETCH COORDS\r\n\r\n        window.navigator.geolocation.getCurrentPosition(\r\n            position => this.setState({ lat: position.coords.latitude }),\r\n            err  => this.setState({ errorMessage: err.message })\r\n        );\r\n\r\n\r\n        window.navigator.geolocation.getCurrentPosition(\r\n            position => this.setState({ lng: position.coords.longitude }),\r\n            err  => this.setState({ errorMessage: err.message })\r\n        );\r\n       \r\n//FETCH PLACE WITH COORDS\r\n\r\n\r\n            setTimeout(() => {\r\n                fetch(\"https://api.opencagedata.com/geocode/v1/json?q=\"+this.state.lat+\"+\"+this.state.lng+\"&key=e40cc3c3f3d142db8598bea5face8e7b\")\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                this.setState({ city: data.results[0].components.town});\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n            }, 600)\r\n\r\n\r\n//REMOVING DIACRITICS FROM CITY NAME  (NOT MY CODE!!!)  \r\n\r\nfunction RemoveAccents(strAccents) {\r\n    var strAccents = strAccents.split('');\r\n    var strAccentsOut = new Array();\r\n    var strAccentsLen = strAccents.length;\r\n    var accents = 'ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž';\r\n    var accentsOut = \"AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz\";\r\n    for (var y = 0; y < strAccentsLen; y++) {\r\n        if (accents.indexOf(strAccents[y]) != -1) {\r\n            strAccentsOut[y] = accentsOut.substr(accents.indexOf(strAccents[y]), 1);\r\n        } else\r\n            strAccentsOut[y] = strAccents[y];\r\n    }\r\n    strAccentsOut = strAccentsOut.join('');\r\n    return strAccentsOut;\r\n}\r\n\r\n\r\n\r\n//FETCH THE  WEATHER\r\n\r\n\r\n    if (!this.state.city){  \r\n         return (\r\n            this.setState({ temperature: 'Loading'}),\r\n            this.setState({ weatherDescription: 'Loading'}),\r\n            this.setState({ weatherIcon: 'Loading'}),\r\n            this.setState({ city: 'Loading'}),\r\n\r\n            setTimeout(() => {\r\n                fetch(\"http://api.weatherstack.com/current?access_key=66e651106c3c4308d4aad46478b6ec95&query=\"+RemoveAccents(this.state.city)+\"&units=m\")\r\n    .then(response => {\r\n       return response.json() \r\n    })\r\n    .then(data => {\r\n        this.setState({ temperature: data.current.temperature})\r\n        this.setState({ weatherDescription: data.current.weather_descriptions[0]})\r\n        this.setState({ weatherIcon: data.current.weather_icons})\r\n        console.log(data);\r\n    })\r\n    .catch(err => {\r\n\t    console.log(err)\r\n    });\r\n            }, 1200)\r\n         )\r\n    } else {\r\n        alert('sorry something is wrong');\r\n    };         \r\n};\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app\">\r\n                 <div className=\"date\">\r\n                    <div className=\"date__day\">{this.state.currentDay}</div>\r\n                    <div className=\"date__time\">{this.state.currentTime}</div>\r\n                </div>\r\n                <Content city={this.state.city} temperature={this.state.temperature + ' °C'} weatherDescription={this.state.weatherDescription} weatherIcon={this.state.weatherIcon}/>\r\n            </div>\r\n            );    \r\n        }   \r\n    }\r\n\r\nReactDOM.render (<App />, document.querySelector('#root'));"],"sourceRoot":""}